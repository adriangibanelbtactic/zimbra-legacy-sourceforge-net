<Server port="8005" shutdown="SHUTDOWN">

  <GlobalNamingResources>
    <!-- Used by Manager webapp -->
    <Resource name="UserDatabase" auth="Container"
              type="org.apache.catalina.UserDatabase"
       description="User database that can be updated and saved"
           factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
          pathname="conf/tomcat-users.xml" />
  </GlobalNamingResources>

  <Service name="Catalina">
    <!-- user services connector, no SSL -->
    <Connector port="7633"
        acceptCount="1024"
        enableLookups="false"
        URIEncoding="UTF-8"
	compression="on"
	compressionMinSize="1024"
	compressableMimeType="text/html,text/plain,text/css"
	noCompressionUserAgents="MSIE 6"
        maxThreads="10" minSpareThreads="10" maxSpareThreads="10"/>
    <!-- admin services connector; no SSL -->
    <Connector port="7634"
        acceptCount="1024"
        enableLookups="false"
        maxThreads="10" minSpareThreads="10" maxSpareThreads="10"
        URIEncoding="UTF-8"
	compression="on"
	compressionMinSize="1024"
	compressableMimeType="text/html,text/plain,text/css"
	noCompressionUserAgents="MSIE 6"/>

    <Engine name="Catalina" defaultHost="localhost">
      <Realm className="org.apache.catalina.realm.UserDatabaseRealm"
             resourceName="UserDatabase" />

      <Host name="localhost" appBase="webapps" >
        <!-- path should be "", not "/" -->
        <Context path="" docBase="${catalina.home}/webapps/zimbra" debug="0" crossContext="true"/>
	  </Host>

      <Valve className="org.apache.catalina.valves.AccessLogValve"
             pattern='combined'/>
    </Engine>
  </Service>
</Server>
